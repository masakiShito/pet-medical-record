# ペットカルテアプリ 要件定義（MVP版）

## 1. プロジェクト概要

### 1.1 プロジェクト名
Pet Medical Record App（ペットカルテアプリ）

### 1.2 目的
ペットの健康情報（体調・通院・投薬・体重など）を時系列で管理し、  
飼い主が **迷わず・漏れなく記録し、すぐに振り返れる** 状態を実現する。

### 1.3 開発方針
- 個人開発・学習目的
- 将来的な公開・機能拡張を前提
- MVPでは「記録と振り返り」に機能を限定する

---

## 2. 想定ユーザー

| 項目 | 内容 |
|----|----|
| 主ユーザー | ペットの飼い主 |
| 利用環境 | スマートフォン / PC（Webアプリ） |
| 課題 | 健康記録が分散し、通院時に説明できない |
| ゴール | 健康履歴を一元管理し、即座に確認できる |

---

## 3. スコープ定義

### 3.1 MVPで実装する機能
- ペット情報の登録・編集・削除
- 健康記録の登録・編集・削除
- 健康記録の一覧表示（時系列）
- 健康記録の詳細表示

### 3.2 MVPで実装しない機能（将来対応）
- ユーザー認証・ログイン
- 通知・リマインド機能
- 家族間共有
- AI分析・診断補助
- PDF/CSVエクスポート
- 画像アップロード

---

## 4. ユースケース

### 4.1 ペット管理
- ペットを新規登録する
- ペット情報を編集する
- ペットを削除する（論理削除）

### 4.2 健康記録管理
- ペットに紐づく記録を追加する
- 記録を編集・削除する
- 記録を時系列で確認する
- 記録詳細を確認する

---

## 5. 機能要件（画面）

### 5.1 画面一覧

| 画面名 | 内容 |
|----|----|
| ペット一覧画面 | 登録済みペットの一覧表示 |
| ペット登録・編集画面 | ペット基本情報の入力 |
| ペット詳細画面 | ペット情報 + 記録一覧 |
| 記録登録・編集画面 | 記録内容の入力 |
| 記録詳細画面 | 記録内容の確認 |

---

## 6. 記録仕様

### 6.1 記録タイプ

| 種類 | 主な項目 |
|----|----|
| 体調 | 日付、症状メモ、元気度、食欲 |
| 通院 | 日付、病院名、診断内容、処置、費用、メモ |
| 投薬 | 開始日、終了日（任意）、薬名、用量、頻度、メモ |
| 体重 | 日付、体重（kg） |

※ MVPでは **共通フォーマット + 種類別追加項目** とする。

---

## 7. データ要件（論理）

### 7.1 ペット（pets）
- id
- name（必須）
- species（犬 / 猫 / その他）
- breed（任意）
- sex（任意）
- birthday（任意）
- memo
- created_at
- updated_at
- deleted_at

### 7.2 記録（records）
- id
- pet_id（FK）
- record_type
- recorded_at（日付）
- title（任意）
- body（メモ）
- weight（体重記録用）
- cost（通院用）
- created_at
- updated_at
- deleted_at

---

## 8. API要件（MVP）

### 8.1 ペットAPI
- GET /pets
- POST /pets
- GET /pets/{id}
- PUT /pets/{id}
- DELETE /pets/{id}

### 8.2 記録API
- GET /pets/{id}/records
- POST /pets/{id}/records
- GET /records/{id}
- PUT /records/{id}
- DELETE /records/{id}

---

## 9. 非機能要件

| 項目 | 内容 |
|----|----|
| アーキテクチャ | REST API |
| フロントエンド | React + Vite |
| バックエンド | FastAPI |
| DB | MySQL |
| 環境 | Docker / docker-compose |
| CPU | Apple Silicon（arm64） |
| 永続化 | DBボリューム利用 |
| ヘルスチェック | /health, /db/health |

---

## 10. 今後の拡張方針
- 認証・ユーザー管理
- 記録フィルタ・検索
- 体重推移グラフ
- ワクチン・手術履歴追加
- 通知・リマインド
- エクスポート機能

---

## 11. フェーズ分割

1. 環境構築（Docker）
2. API疎通確認
3. データモデル設計
4. 画面設計
5. CRUD実装
6. UX改善・拡張

---
