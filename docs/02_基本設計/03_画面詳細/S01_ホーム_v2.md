# S01 ホーム（全体ダッシュボード）画面詳細（v2）

## 1. 画面概要
- **目的**: 全ペットの状態を俯瞰し、ペット単位のダッシュボード（S04）および領域別（通院/体重/投薬/履歴）への最短導線を提供する。
- **URL**: `/`
- **対象ユーザー**: 飼い主（シングルユーザー想定）

---

## 2. 利用シーン
- アプリ起動直後に「どのペットで何をすべきか」を把握したい
- 直近の通院/体重/投薬状況をざっと確認し、必要な記録にすぐ移動したい

---

## 3. 主要導線
- ペットカード選択 → **S04 ペットダッシュボード**
- ペットカード内「通院」→ **S07 通院一覧**
- ペットカード内「体重」→ **S10 体重一覧**
- ペットカード内「投薬」→ **S12 投薬一覧**
- ペットカード内「履歴」→ **S05 履歴（タイムライン）**
- （任意）「まとめて記録」→ **S14 今日のまとめて記録**

---

## 4. 画面レイアウト
### 4.1 ヘッダー
- アプリ名（Pet Medical Record）
- 右側: ペット追加（＋）→ S03（ペット登録）

### 4.2 メイン（ペットカード一覧）
- ペットごとにカードを表示（写真/名前/種別など）
- カード内に「サマリ」と「クイックアクション」を配置

---

## 5. 画面項目一覧

| No | 物理名 | 項目名 | 種類 | 必須 | 入力/表示仕様 | 備考 |
|---:|---|---|---|---|---|---|
| 1 | pets[] | ペットカード | 表示 | - | ペット単位でカード表示 | クリックでS04へ |
| 2 | pets[].name | ペット名 | 表示 | - | 最大20文字目安 | |
| 3 | pets[].photo_url | 写真 | 表示 | - | 未設定はプレースホルダ | |
| 4 | summary.vet_visit_last | 直近通院 | 表示 | - | 「YYYY/MM/DD」「未登録」 | S07へ導線 |
| 5 | summary.weight_last | 直近体重 | 表示 | - | 「x.xx kg」「未登録」 | S10へ導線 |
| 6 | summary.medication_active | 継続投薬 | 表示 | - | 「あり/なし」「件数」 | S12へ導線 |
| 7 | actions.go_pet | ペットダッシュボード | ボタン | - | S04へ遷移 | カードクリックでも可 |
| 8 | actions.go_vet_visits | 通院 | ボタン | - | S07へ遷移 | |
| 9 | actions.go_weights | 体重 | ボタン | - | S10へ遷移 | |
|10 | actions.go_medications | 投薬 | ボタン | - | S12へ遷移 | |
|11 | actions.go_history | 履歴 | ボタン | - | S05へ遷移 | |
|12 | actions.quick_record | まとめて記録（任意） | ボタン | 任意 | S14へ遷移 | 小さめに配置 |

---

## 6. 操作フロー
### 6.1 初期表示
1. pets一覧取得
2. 各ペットのサマリ取得（直近通院/体重/投薬状態）
3. 画面表示

### 6.2 ペットカードから通院へ
1. 「通院」クリック
2. S07へ遷移（petIdを引き継ぐ）

---

## 7. バリデーション/エラーハンドリング
- サマリ取得に失敗しても、ペット一覧は表示（サマリ部は「取得失敗」表示）
- pets取得失敗時はリトライ導線を表示

---

## 8. 非機能/UXメモ
- ペットカードはモバイルで1カラム、PCで2〜3カラム
- 「通院」が主役のため、サマリ表示は通院を最上段に置く
